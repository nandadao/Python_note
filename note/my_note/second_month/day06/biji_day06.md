## 复习

回答理论问题的套路：

先解释什么意思，延伸，然后介绍在工作的使用情况

１．http协议：

​	１．什么是http协议：超文本传输协议，

```
请求格式：
请求行：GET  POST   HEAD    PUT   DELETE
				GET   /xxx    HTTP/1.1
请求头：键值对(每个键值对占一行)
空行：
请求体：提交的内容
```

```
响应格式：
响应行：200ＯＫ，404找不到网页
				HTTP/1.1    200   OK
响应头：键值对（一个键值对占一行）
				Content-Type:text/html：告诉客户端按照html格式解析
空行：
响应体：数据
```

协议的请求和响应

２．获取一个网页的过程：

```
1.客户端（浏览器）通过tcp传输，发送http请求给服务端
2.服务端接收到http请求后进行解析
3.服务端处理请求内容，组织响应内容
4.服务端将响应内容以http响应格式发送给浏览器
5.浏览器接收到响应内容，解析展示
```

３．进程（同时执行多个任务的一种方式）

```
进程：程序执行的过程，动态的，占有运行空间资源，有生命周期的
```

```
作用：提高程序的运行效率
如果进程遇到阻塞，则进行下一个进程
```

４．孤儿进程与僵尸进程

处理僵尸进程：１．控制父子进程的退出顺序

​								２．让付进程处理子进程的退出

## 新知识day06

### 1.处理僵尸进程

```
pid, status =  os.wait()
```

```
import   signal
signal.signal(signal.SIGCHLD,  signal.SIG_IGN)
```

### 2.群聊聊天室

**对象本身就是容器：**
                        			**类存储数据**

​									**class Person:**
​                        						**def init(self, name, address):**
​                        									**self.name = name**
​                        									**self.address = address**
​                        			**zs = Person()**





**聊天室思路：**

```
１．需求的整理（找出业务逻辑）达到什么效果，如歌工作

２．技术点的分析
	通讯套接字：群聊用UDP多
							用udp
	数据流：由客户端发送的数据是怎么走的，存储的什么信息
						c    --->    s
						客户端　　　请求---> 服务端处理
						信息：　　　客户端----> 服务端　　--> 其他客户端
	服务端需要存储用户什么信息，怎么存
						１．存一下已经进入群的　　　　　　　　　　名字
								sendto()指定地址，存一下这个人的　　　地址
                        ２．存放方式：
                        	１．[(name1, address2),    (name2, address2) ....]
                        	２．{ name1:address1,   name2:address2.... }:
                        			键的特点：不可重复，不可变的数据类型（数字，字符串，元组）
                        	３．对象本身就是容器：
                        			类存储数据
                        			class Person:
                        						def __init__(self, name, address):
                        									self.name = name
                        									self.address = address
                        			zs = Person()
                        			最终选择：字典
      收发消息：有一个recv阻塞，所有的客户端都阻塞到收消息的时候，	
      						如何解决
      						收消息　和　发消息　使用不同的　进程
      						
   ３．结构的设计和协议的设定    （将代码模块化）对模块进行封装（可以用函数，
   类，模块，包）
   			今天先用函数：
   
   			网络结构搭建：udp通讯结构
            进入聊天室功能：
            聊天功能
            退出聊天室功能
            管理员消息：
            
  		协议设定：
  			请求协议：
  			１．进入聊天室（登录）：L	name
  			２．聊天：C	text...
  			３．退出：Q	name
  			响应协议：
  			１．登录成功失败：OK      FATL
 
 ４．逐个功能分析，罗列逻辑
    		网络结构搭建：udp通讯结构
				udp套接字
            进入聊天室功能：
               	客户端：输入姓名
               					发送登录请求
               					得到登录结果
    			服务端：接收请求
    								判断用户是否可以登录
    							　向客户端回复结果
    							　如果该客户端登陆了则告知其他人
    							　
            聊天功能：
            	客户端：创建新的进程
            					一个进程循环的接收消息
            					一个循环循环的输入内容发送
            	服务端：接收消息  C   name  xxxxx 
            						转发给其他人　　"name: xxxxxx"
            退出聊天室功能：
            						客户端：quit   Ctrl +c 退出
            										发送请求给服务端
            										结束进程
            						
            						服务端：接收请求
            											删除该用户
            											告知其他人
            管理员消息：
            
                        	
```

### ３．multiprocessing模块创建进程

Process()

p.start()

p.join()

### ４．作业：

１．将聊天室代码梳理

２．熟悉Process模块

３．编程：

​	使用Process创建两个子进程，同事复制一个文件，分别复制前半部分和后半部分，形成

​	两个新文件

```
以字节数判断前后两个部分，１０的话就是前５后５
```

































