## 复习

１．线程的创建

```python
from threading import Thread
t  = Thread()　# 生成线程对象
t.start() # 启动线程
t.join() #回收线程
```

多个线程同属于一个进程，使用共同资源

２．线程对象属性

```python
t.name
t.is_alive()
t.setDaemon()
# 自定义线程类
# 继承Thread 　重写_init  , run()
```

３．同步互斥

操作共享资源容易出现混乱，

同步：人为设置了一些顺序

互斥原理：通过阻塞控制对共享资源的操作顺序

```python
Event()
set()
clear()
wait()

Lock()
acquier()
release()

with :
```

死锁：至少两个线程锁，同时索要对方的资源，

​			后果是，程序执行一直阻塞，无法继续

４．GIL（全局解释器锁）针对C写的python解释器

​		１．后果：解释线程时，同一时刻只能解释一个线程，CPython 线程效率低

​		２．python的多线程只适合高阻塞，高延迟的IO操作，

５．进程线程的区别

​			面对面试官的提问时：三步骤：１．解释含义，２．从应用层讲　３．延伸

​		１．查看笔记

６．网络服务模型

​		１．循环模型

​		２．并发模型

##  新知识＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

### １．基于fork的多进程网络并发模型

1. 

### ２．基于threading的多线程网络并发

练习：仿照fork多线程并发逻辑，编写具有同样功能的多线程并发程序

注意：细节区别，注意共享资源问题

## 练习：ftp

１．都是普通普通文件

２．输入１，下载....,输入２...

```
自己思考过程：
１．需求分析
		１．要有客户端、服务端、要求多个客户端可以同时操作(多进程，或线程)
		２．客户端：可以查看有什么文件(os.path.file)
		３．客户端可以上传、下载文件：文件操作
		４．通过print引导操作
		
２．技术点分析：
		通讯套接字：传输文件需要tcp
		数据流：
							客户端：　请求　　--> 服务端处理
                            文件：客户端与服务端之间的传输
		服务端需要存储什么，怎么存
							存储命令提示，
							各种操作的函数
							存，用户上传的文件
３．功能模块封装：
		网络结构：tcp
		
		连接ftp功能
							客户端：创建新的进程
												
							
							服务端：
		
		
		查看文件功能：
							客户端：发送查看文件请求
												得到文件内容结果
							服务端：接收请求
												获取文件内容
												向客户端回复结果
		
		上传文件功能：
							客户端：从本地选择一个文件，打开发送
							
							服务端：
		
		下载文件功能：
		
		



```

```
**老师的分析：**
FTP文件服务
１．需求分析

２．技术分析
		１．并发处理：多线程并发
		２．数据传输：tcp负责文件的传输

３．功能模块封装
		１．基本功能封装为类：
		２．基本功能：
						１．查看内容
						２．上传
						３．下载

４．协议设置
				请求类型　			　请求内容
		１．LIST				
		２．UPLOAD
		３．DOWNLOAD
		４．QUIT

５．分模块进行逻辑分析
		注意:写一部分，测试一部分
		１．网络搭建
				１．服务端：创建tcp多线程并发模型
						客户端：连接服务端，打印命令提示界面，通过输入命令决定发送内容
		
		２．获取文件列表
				１．客户端：发送请求
										　得到回复
										　接收文件列表
						服务端：接收请求
										　找到文件库
										　发送文件列表
		
		３．上传
		
		４．下载
				１．考虑没有文件，要先询问一下服务器，请求和应答机制
				客户端：请求　　得到回复　　下载文件
				服务端：
		
		５．退出

```

总结：

​	１．总分结构

​	２．理解并发编程带来的优势

​	３．面向对象

​	４．请求响应模式

### ３．IO并发

​	１．阻塞IO

​	２．非阻塞IO

## 作业

１．重点代码要求自己能写

２．ftp代码自己梳理一下

３．http周日复习一下





























